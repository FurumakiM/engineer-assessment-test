<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢åŠ›é‡æ¸¬å®šãƒ†ã‚¹ãƒˆ - æœ€é©åŒ–ç‰ˆ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
        }

        .header h1 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 2.5em;
        }

        .header p {
            color: #7f8c8d;
            font-size: 1.1em;
        }

        .form-container {
            background: rgba(255, 255, 255, 0.95);
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
        }

        .section {
            margin-bottom: 40px;
            padding: 25px;
            border: 2px solid #ecf0f1;
            border-radius: 12px;
            background: #fafbfc;
        }

        .section h2 {
            color: #2980b9;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #3498db;
            font-size: 1.4em;
        }

        .question {
            margin-bottom: 30px;
            padding: 25px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
        }

        .question h3 {
            color: #34495e;
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .difficulty {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.8em;
            font-weight: bold;
            margin-left: 10px;
        }

        .easy { background: #2ecc71; color: white; }
        .medium { background: #f39c12; color: white; }
        .hard { background: #e74c3c; color: white; }
        .expert { background: #9b59b6; color: white; }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #2c3e50;
        }

        input[type="text"],
        input[type="email"],
        select,
        textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #bdc3c7;
            border-radius: 8px;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        input[type="text"]:focus,
        input[type="email"]:focus,
        select:focus,
        textarea:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }

        textarea {
            min-height: 100px;
            resize: vertical;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 13px;
        }

        .code-editor {
            background: #2c3e50;
            color: #ecf0f1;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            min-height: 150px;
            border: 2px solid #34495e;
            resize: vertical;
        }

        .problem-statement {
            background: #34495e;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 13px;
            line-height: 1.6;
            white-space: pre-line;
        }

        .constraints {
            background: #e74c3c;
            color: white;
            padding: 12px;
            border-radius: 8px;
            margin: 10px 0;
            font-size: 13px;
            white-space: pre-line;
        }

        .timer {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(231, 76, 60, 0.9);
            color: white;
            padding: 15px 25px;
            border-radius: 30px;
            font-weight: bold;
            font-size: 18px;
            z-index: 1000;
            box-shadow: 0 4px 20px rgba(231, 76, 60, 0.3);
        }

        .submit-btn {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            padding: 15px 40px;
            border: none;
            border-radius: 50px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: block;
            margin: 40px auto 0;
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.3);
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 7px 20px rgba(52, 152, 219, 0.4);
        }

        .progress-indicator {
            position: fixed;
            top: 80px;
            right: 20px;
            background: rgba(255, 255, 255, 0.95);
            padding: 15px 20px;
            border-radius: 12px;
            font-size: 14px;
            z-index: 1000;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            min-width: 150px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #ecf0f1;
            border-radius: 4px;
            margin: 8px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #3498db, #2ecc71);
            border-radius: 4px;
            transition: width 0.3s ease;
            width: 0%;
        }

        .section-summary {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid #3498db;
        }

        @media (max-width: 768px) {
            .progress-indicator {
                display: none;
            }
            
            .container {
                padding: 10px;
            }
            
            .form-container {
                padding: 20px;
            }
            
            .timer {
                font-size: 14px;
                padding: 10px 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢åŠ›é‡æ¸¬å®šãƒ†ã‚¹ãƒˆ</h1>
            <p>å®ŸæŠ€ä¸­å¿ƒã®ç·åˆæŠ€è¡“è©•ä¾¡ - åˆ¶é™æ™‚é–“ 90åˆ† - å…¨30å•</p>
            <div class="timer" id="timer">æ®‹ã‚Šæ™‚é–“: 90:00</div>
        </div>

        <div class="progress-indicator">
            <div><strong>é€²æ—çŠ¶æ³</strong></div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div>å®Œäº†: <span id="answered">0</span>/30å•</div>
            <div>é€²æ—: <span id="progress">0</span>%</div>
        </div>

        <div class="form-container">
            <form id="assessmentForm">
                <!-- åŸºæœ¬æƒ…å ± -->
                <div class="section">
                    <h2>åŸºæœ¬æƒ…å ±</h2>
                    <div class="form-group">
                        <label for="employeeName">æ°å</label>
                        <input type="text" id="employeeName" name="employeeName" required>
                    </div>
                    <div class="form-group">
                        <label for="employeeId">ç¤¾å“¡ID</label>
                        <input type="text" id="employeeId" name="employeeId" required>
                    </div>
                    <div class="form-group">
                        <label for="primaryLanguage">ä¸»è¦ä½¿ç”¨è¨€èª</label>
                        <select id="primaryLanguage" name="primaryLanguage" required>
                            <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                            <option value="javascript">JavaScript/TypeScript</option>
                            <option value="python">Python</option>
                            <option value="java">Java</option>
                            <option value="csharp">C#</option>
                            <option value="go">Go</option>
                            <option value="rust">Rust</option>
                            <option value="cpp">C/C++</option>
                            <option value="kotlin">Kotlin</option>
                            <option value="swift">Swift</option>
                            <option value="php">PHP</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="experience">ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢çµŒé¨“å¹´æ•°</label>
                        <select id="experience" name="experience" required>
                            <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                            <option value="0-1">0-1å¹´</option>
                            <option value="2-3">2-3å¹´</option>
                            <option value="4-6">4-6å¹´</option>
                            <option value="7-10">7-10å¹´</option>
                            <option value="11+">11å¹´ä»¥ä¸Š</option>
                        </select>
                    </div>
                </div>

                <!-- ã‚»ã‚¯ã‚·ãƒ§ãƒ³1: ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ãƒ»ãƒ‡ãƒ¼ã‚¿æ§‹é€ ï¼ˆ10å•ï¼‰-->
                <div class="section">
                    <h2>Section 1: ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ãƒ»ãƒ‡ãƒ¼ã‚¿æ§‹é€ </h2>
                    <div class="section-summary">
                        <strong>10å• - é…ç‚¹35% - æ¨å¥¨æ™‚é–“30åˆ†</strong><br>
                        åŸºç¤ã‹ã‚‰é«˜åº¦ãªã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ãƒ»ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã®å®Ÿè£…ã¨ç†è«–ã®ç†è§£ã‚’è©•ä¾¡
                    </div>

                    <!-- å•é¡Œ1: é…åˆ—ãƒ»æ–‡å­—åˆ— -->
                    <div class="question">
                        <h3>å•é¡Œ1: å›è»¢é…åˆ—ã§ã®æœ€å°å€¤æ¤œç´¢ <span class="difficulty medium">Medium</span></h3>
                        <div class="problem-statement">ã‚½ãƒ¼ãƒˆæ¸ˆã¿é…åˆ—ãŒå›è»¢ã•ã‚ŒãŸé…åˆ—ã§æœ€å°å€¤ã‚’è¦‹ã¤ã‘ã¦ãã ã•ã„ã€‚
é‡è¤‡è¦ç´ ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚O(log n)æ™‚é–“ã§å®Ÿè£…ã€‚

ä¾‹ï¼š
Input: [3,4,5,1,2]  Output: 1
Input: [4,5,6,7,0,1,2]  Output: 0
Input: [11,13,15,17]  Output: 11</div>
                        <label for="q1">å®Ÿè£…ã‚³ãƒ¼ãƒ‰ + æ™‚é–“è¨ˆç®—é‡åˆ†æ</label>
                        <textarea id="q1" name="q1" class="code-editor" placeholder="def findMin(nums):
    # ã‚ãªãŸã®å®Ÿè£…
    pass

# æ™‚é–“è¨ˆç®—é‡: O(?)
# æ‰‹æ³•: äºŒåˆ†æ¢ç´¢ã®å¿œç”¨"></textarea>
                    </div>

                    <!-- å•é¡Œ2: å‹•çš„ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚° -->
                    <div class="question">
                        <h3>å•é¡Œ2: ã‚³ã‚¤ãƒ³ãƒã‚§ãƒ³ã‚¸å•é¡Œ <span class="difficulty medium">Medium</span></h3>
                        <div class="problem-statement">ç•°ãªã‚‹é¡é¢ã®ã‚³ã‚¤ãƒ³ã‚’ä½¿ã£ã¦ã€æŒ‡å®šé‡‘é¡ã‚’ä½œã‚‹ã®ã«å¿…è¦ãª
æœ€å°æšæ•°ã‚’æ±‚ã‚ã¦ãã ã•ã„ã€‚

ä¾‹ï¼š
coins = [1, 3, 4], amount = 6  â†’  2æš (3+3)
coins = [2], amount = 3  â†’  -1 (ä½œã‚Œãªã„)</div>
                        <label for="q2">å®Ÿè£…ã‚³ãƒ¼ãƒ‰ + DPè¡¨ã®èª¬æ˜</label>
                        <textarea id="q2" name="q2" class="code-editor"></textarea>
                    </div>

                    <!-- å•é¡Œ3: ã‚°ãƒ©ãƒ•ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ  -->
                    <div class="question">
                        <h3>å•é¡Œ3: å³¶ã®æ•°ã‚’æ•°ãˆã‚‹ <span class="difficulty medium">Medium</span></h3>
                        <div class="problem-statement">2æ¬¡å…ƒã‚°ãƒªãƒƒãƒ‰ã§ã€'1'ã¯é™¸åœ°ã€'0'ã¯æ°´ã‚’è¡¨ã™æ™‚ã€
å³¶ã®æ•°ã‚’æ•°ãˆã¦ãã ã•ã„ï¼ˆDFS/BFSä½¿ç”¨ï¼‰ã€‚

ä¾‹ï¼š
[["1","1","0","0","0"],
 ["1","1","0","0","0"],
 ["0","0","1","0","0"],
 ["0","0","0","1","1"]]  â†’  3å€‹ã®å³¶</div>
                        <label for="q3">å®Ÿè£…ã‚³ãƒ¼ãƒ‰</label>
                        <textarea id="q3" name="q3" class="code-editor"></textarea>
                    </div>

                    <!-- å•é¡Œ4: æ–‡å­—åˆ—ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ  -->
                    <div class="question">
                        <h3>å•é¡Œ4: æœ€é•·å›æ–‡éƒ¨åˆ†æ–‡å­—åˆ— <span class="difficulty medium">Medium</span></h3>
                        <div class="problem-statement">æ–‡å­—åˆ—ã‹ã‚‰æœ€é•·ã®å›æ–‡éƒ¨åˆ†æ–‡å­—åˆ—ã‚’è¿”ã—ã¦ãã ã•ã„ã€‚

ä¾‹ï¼š
"babad" â†’ "bab" ã¾ãŸã¯ "aba"
"cbbd" â†’ "bb"

åŠ¹ç‡çš„ãªã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã§å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚</div>
                        <label for="q4">å®Ÿè£…ã‚³ãƒ¼ãƒ‰ + ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ èª¬æ˜</label>
                        <textarea id="q4" name="q4" class="code-editor"></textarea>
                    </div>

                    <!-- å•é¡Œ5: é«˜åº¦ãªãƒ‡ãƒ¼ã‚¿æ§‹é€  -->
                    <div class="question">
                        <h3>å•é¡Œ5: LRUã‚­ãƒ£ãƒƒã‚·ãƒ¥å®Ÿè£… <span class="difficulty hard">Hard</span></h3>
                        <div class="problem-statement">get(key)ã¨put(key,value)ã®ä¸¡æ–¹ã‚’O(1)ã§å®Ÿè¡Œã™ã‚‹
LRUã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚

æ“ä½œï¼š
- get(key): å­˜åœ¨ã™ã‚Œã°å€¤ã‚’è¿”ã—ã€æœ€è¿‘ä½¿ç”¨ã«æ›´æ–°
- put(key, value): æŒ¿å…¥ã€‚å®¹é‡è¶…éæ™‚ã¯æœ€å¤ã‚’å‰Šé™¤

åˆ¶ç´„: 1 â‰¤ capacity â‰¤ 3000</div>
                        <label for="q5">å®Ÿè£…ã‚³ãƒ¼ãƒ‰</label>
                        <textarea id="q5" name="q5" class="code-editor"></textarea>
                    </div>

                    <!-- å•é¡Œ6-10: è¿½åŠ å•é¡Œ -->
                    <div class="question">
                        <h3>å•é¡Œ6: äºŒåˆ†æ¢ç´¢æœ¨ã®å¦¥å½“æ€§æ¤œè¨¼ <span class="difficulty medium">Medium</span></h3>
                        <div class="problem-statement">äºŒåˆ†æ¢ç´¢æœ¨ãŒæ­£ã—ã„æ§‹é€ ã‹ã‚’åˆ¤å®šã—ã¦ãã ã•ã„ã€‚</div>
                        <label for="q6">å®Ÿè£…ã‚³ãƒ¼ãƒ‰</label>
                        <textarea id="q6" name="q6" class="code-editor"></textarea>
                    </div>

                    <div class="question">
                        <h3>å•é¡Œ7: ãƒˆãƒƒãƒ—Ké »å‡ºè¦ç´  <span class="difficulty medium">Medium</span></h3>
                        <div class="problem-statement">é…åˆ—ã§Kå€‹ã®æœ€é »å‡ºè¦ç´ ã‚’è¿”ã—ã¦ãã ã•ã„ã€‚</div>
                        <label for="q7">å®Ÿè£…ã‚³ãƒ¼ãƒ‰</label>
                        <textarea id="q7" name="q7" class="code-editor"></textarea>
                    </div>

                    <div class="question">
                        <h3>å•é¡Œ8: ãƒ¯ãƒ¼ãƒ‰ãƒ©ãƒ€ãƒ¼ <span class="difficulty hard">Hard</span></h3>
                        <div class="problem-statement">å˜èªã®ã—ã‚Šã¨ã‚Šã®ã‚ˆã†ãªå¤‰æ›ã®æœ€çŸ­çµŒè·¯ã‚’æ±‚ã‚ã¦ãã ã•ã„ã€‚</div>
                        <label for="q8">å®Ÿè£…ã‚³ãƒ¼ãƒ‰</label>
                        <textarea id="q8" name="q8" class="code-editor"></textarea>
                    </div>

                    <div class="question">
                        <h3>å•é¡Œ9: åŒºé–“ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚° <span class="difficulty medium">Medium</span></h3>
                        <div class="problem-statement">é‡è¤‡ã—ãªã„æœ€å¤§æ•°ã®åŒºé–“ã‚’é¸æŠã™ã‚‹ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’å®Ÿè£…ã€‚</div>
                        <label for="q9">å®Ÿè£…ã‚³ãƒ¼ãƒ‰</label>
                        <textarea id="q9" name="q9" class="code-editor"></textarea>
                    </div>

                    <div class="question">
                        <h3>å•é¡Œ10: Trieï¼ˆå‰ç½®æœ¨ï¼‰å®Ÿè£… <span class="difficulty hard">Hard</span></h3>
                        <div class="problem-statement">å˜èªã®æŒ¿å…¥ãƒ»æ¤œç´¢ãƒ»å‰ç½®è©æ¤œç´¢ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚</div>
                        <label for="q10">å®Ÿè£…ã‚³ãƒ¼ãƒ‰</label>
                        <textarea id="q10" name="q10" class="code-editor"></textarea>
                    </div>
                </div>

                <!-- ã‚»ã‚¯ã‚·ãƒ§ãƒ³2: ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆï¼ˆ8å•ï¼‰ -->
                <div class="section">
                    <h2>Section 2: ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆãƒ»ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£</h2>
                    <div class="section-summary">
                        <strong>8å• - é…ç‚¹30% - æ¨å¥¨æ™‚é–“30åˆ†</strong><br>
                        å¤§è¦æ¨¡ã‚·ã‚¹ãƒ†ãƒ ã®è¨­è¨ˆèƒ½åŠ›ã€ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ã€å¯ç”¨æ€§ã®è€ƒæ…®ã‚’è©•ä¾¡
                    </div>

                    <div class="question">
                        <h3>å•é¡Œ11: URLçŸ­ç¸®ã‚µãƒ¼ãƒ“ã‚¹è¨­è¨ˆ <span class="difficulty medium">Medium</span></h3>
                        <div class="constraints">è¦ä»¶:
- 1æ—¥1å„„URLçŸ­ç¸®
- èª­ã¿å–ã‚Šï¼šæ›¸ãè¾¼ã¿ = 100:1
- ãƒ¬ã‚¹ãƒãƒ³ã‚¹100msä»¥ä¸‹
- çŸ­ç¸®URL 7æ–‡å­—
- 99.9%å¯ç”¨æ€§</div>
                        <label for="q11">ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆï¼ˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ»DBãƒ»APIè¨­è¨ˆï¼‰</label>
                        <textarea id="q11" name="q11" placeholder="1. é«˜ãƒ¬ãƒ™ãƒ«ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›³
2. APIè¨­è¨ˆ (POST /shorten, GET /{shortUrl})
3. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒ
4. ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥
5. ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°æ‰‹æ³•"></textarea>
                    </div>

                    <div class="question">
                        <h3>å•é¡Œ12: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒãƒ£ãƒƒãƒˆè¨­è¨ˆ <span class="difficulty hard">Hard</span></h3>
                        <div class="constraints">è¦ä»¶:
- 1å„„ãƒ¦ãƒ¼ã‚¶ãƒ¼ã€1000ä¸‡åŒæ™‚æ¥ç¶š
- 1:1ã€ã‚°ãƒ«ãƒ¼ãƒ—ãƒãƒ£ãƒƒãƒˆ
- ã‚ªãƒ³ãƒ©ã‚¤ãƒ³çŠ¶æ…‹
- ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é…ä¿¡ä¿è¨¼
- ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å±¥æ­´</div>
                        <label for="q12">ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆ</label>
                        <textarea id="q12" name="q12"></textarea>
                    </div>

                    <div class="question">
                        <h3>å•é¡Œ13: å‹•ç”»ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°è¨­è¨ˆ <span class="difficulty expert">Expert</span></h3>
                        <div class="constraints">è¦ä»¶:
- YouTubeè¦æ¨¡
- è¤‡æ•°è§£åƒåº¦å¯¾å¿œ
- å…¨ä¸–ç•Œé…ä¿¡
- ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å‡¦ç†
- ãƒ¬ã‚³ãƒ¡ãƒ³ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³</div>
                        <label for="q13">ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆ</label>
                        <textarea id="q13" name="q13"></textarea>
                    </div>

                    <div class="question">
                        <h3>å•é¡Œ14: åˆ†æ•£ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚·ã‚¹ãƒ†ãƒ  <span class="difficulty hard">Hard</span></h3>
                        <div class="constraints">è¦ä»¶:
- Redis Clusterè¦æ¨¡
- è‡ªå‹•ã‚·ãƒ£ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°
- ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
- ãƒ•ã‚§ã‚¤ãƒ«ã‚ªãƒ¼ãƒãƒ¼
- ä¸€è²«æ€§ä¿è¨¼</div>
                        <label for="q14">ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆ</label>
                        <textarea id="q14" name="q14"></textarea>
                    </div>

                    <div class="question">
                        <h3>å•é¡Œ15: æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³è¨­è¨ˆ <span class="difficulty expert">Expert</span></h3>
                        <div class="constraints">è¦ä»¶:
- Googleè¦æ¨¡
- Webã‚¯ãƒ­ãƒ¼ãƒªãƒ³ã‚°
- ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹åŒ–
- ãƒ©ãƒ³ã‚­ãƒ³ã‚°
- æ¤œç´¢çµæœè¡¨ç¤º</div>
                        <label for="q15">ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆ</label>
                        <textarea id="q15" name="q15"></textarea>
                    </div>

                    <div class="question">
                        <h3>å•é¡Œ16: ã‚½ãƒ¼ã‚·ãƒ£ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­è¨ˆ <span class="difficulty hard">Hard</span></h3>
                        <div class="constraints">è¦ä»¶:
- Facebookè¦æ¨¡
- ãƒ•ãƒ¬ãƒ³ãƒ‰æ©Ÿèƒ½
- ãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒ•ã‚£ãƒ¼ãƒ‰
- æŠ•ç¨¿ãƒ»ã‚³ãƒ¡ãƒ³ãƒˆ
- é€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ </div>
                        <label for="q16">ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆ</label>
                        <textarea id="q16" name="q16"></textarea>
                    </div>

                    <div class="question">
                        <h3>å•é¡Œ17: é…è»Šã‚µãƒ¼ãƒ“ã‚¹è¨­è¨ˆ <span class="difficulty expert">Expert</span></h3>
                        <div class="constraints">è¦ä»¶:
- Uberè¦æ¨¡
- ä½ç½®æƒ…å ±ç®¡ç†
- ãƒãƒƒãƒãƒ³ã‚°ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¿½è·¡
- æ–™é‡‘è¨ˆç®—</div>
                        <label for="q17">ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆ</label>
                        <textarea id="q17" name="q17"></textarea>
                    </div>

                    <div class="question">
                        <h3>å•é¡Œ18: åˆ†æ•£ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ  <span class="difficulty expert">Expert</span></h3>
                        <div class="constraints">è¦ä»¶:
- Google Driveè¦æ¨¡
- ãƒ•ã‚¡ã‚¤ãƒ«åŒæœŸ
- ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†
- å…±æœ‰æ©Ÿèƒ½
- éšœå®³è€æ€§</div>
                        <label for="q18">ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆ</label>
                        <textarea id="q18" name="q18"></textarea>
                    </div>
                </div>

                <!-- ã‚»ã‚¯ã‚·ãƒ§ãƒ³3: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ»ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ï¼ˆ7å•ï¼‰ -->
                <div class="section">
                    <h2>Section 3: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ»ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–</h2>
                    <div class="section-summary">
                        <strong>7å• - é…ç‚¹20% - æ¨å¥¨æ™‚é–“20åˆ†</strong><br>
                        SQLæœ€é©åŒ–ã€ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è¨­è¨ˆã€NoSQLè¨­è¨ˆã€å¤§è¦æ¨¡ãƒ‡ãƒ¼ã‚¿å‡¦ç†ã®å°‚é–€çŸ¥è­˜
                    </div>

                    <div class="question">
                        <h3>å•é¡Œ19: è¤‡é›‘ãªSQLæœ€é©åŒ– <span class="difficulty hard">Hard</span></h3>
                        <div class="problem-statement">ä»¥ä¸‹ã®ã‚¯ã‚¨ãƒªã‚’æœ€é©åŒ–ã—ã¦ãã ã•ã„ï¼š

SELECT u.name, COUNT(o.id) as orders, 
       AVG(o.total) as avg_order,
       MAX(o.created_at) as last_order
FROM users u 
LEFT JOIN orders o ON u.id = o.user_id 
WHERE u.status = 'active' 
  AND o.created_at >= '2023-01-01'
GROUP BY u.id, u.name
HAVING COUNT(o.id) > 5
ORDER BY avg_order DESC
LIMIT 100;

ãƒ‡ãƒ¼ã‚¿è¦æ¨¡: users 1000ä¸‡, orders 1å„„ä»¶</div>
                        <label for="q19">æœ€é©åŒ–ã‚¯ã‚¨ãƒª + ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è¨­è¨ˆ</label>
                        <textarea id="q19" name="q19" class="code-editor"></textarea>
                    </div>

                    <div class="question">
                        <h3>å•é¡Œ20: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚·ãƒ£ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¨­è¨ˆ <span class="difficulty expert">Expert</span></h3>
                        <div class="problem-statement">10å„„ä»¶ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’è¤‡æ•°DBã«ã‚·ãƒ£ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã™ã‚‹æˆ¦ç•¥ã‚’è¨­è¨ˆã—ã¦ãã ã•ã„ã€‚</div>
                        <label for="q20">ã‚·ãƒ£ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°æˆ¦ç•¥</label>
                        <textarea id="q20" name="q20"></textarea>
                    </div>

                    <div class="question">
                        <h3>å•é¡Œ21: MongoDBè¨­è¨ˆ <span class="difficulty medium">Medium</span></h3>
                        <div class="problem-statement">Eã‚³ãƒãƒ¼ã‚¹ã‚µã‚¤ãƒˆã®å•†å“ãƒ»æ³¨æ–‡ãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’MongoDBã§è¨­è¨ˆã—ã¦ãã ã•ã„ã€‚</div>
                        <label for="q21">MongoDBã‚¹ã‚­ãƒ¼ãƒè¨­è¨ˆ</label>
                        <textarea id="q21" name="q21" class="code-editor"></textarea>
                    </div>

                    <div class="question">
                        <h3>å•é¡Œ22: Redisæ´»ç”¨æˆ¦ç•¥ <span class="difficulty medium">Medium</span></h3>
                        <div class="problem-statement">é«˜ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯Webã‚¢ãƒ—ãƒªã§ã®Redisæ´»ç”¨æˆ¦ç•¥ã‚’è¨­è¨ˆã—ã¦ãã ã•ã„ã€‚</div>
                        <label for="q22">Redisè¨­è¨ˆ</label>
                        <textarea id="q22" name="q22"></textarea>
                    </div>

                    <div class="question">
                        <h3>å•é¡Œ23: ãƒ‡ãƒ¼ã‚¿ã‚¦ã‚§ã‚¢ãƒã‚¦ã‚¹è¨­è¨ˆ <span class="difficulty hard">Hard</span></h3>
                        <div class="problem-statement">ãƒ“ãƒƒã‚°ãƒ‡ãƒ¼ã‚¿åˆ†æç”¨DWHã‚’ã‚¹ã‚¿ãƒ¼ã‚¹ã‚­ãƒ¼ãƒã§è¨­è¨ˆã—ã¦ãã ã•ã„ã€‚</div>
                        <label for="q23">DWHè¨­è¨ˆ</label>
                        <textarea id="q23" name="q23"></textarea>
                    </div>

                    <div class="question">
                        <h3>å•é¡Œ24: åˆ†æ•£ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ <span class="difficulty expert">Expert</span></h3>
                        <div class="problem-statement">ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹é–“ã®åˆ†æ•£ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’Sagaãƒ‘ã‚¿ãƒ¼ãƒ³ã§è¨­è¨ˆã—ã¦ãã ã•ã„ã€‚</div>
                        <label for="q24">åˆ†æ•£ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³è¨­è¨ˆ</label>
                        <textarea id="q24" name="q24"></textarea>
                    </div>

                    <div class="question">
                        <h3>å•é¡Œ25: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åˆ†æ <span class="difficulty hard">Hard</span></h3>
                        <div class="problem-statement">DBãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åŠ£åŒ–ã®åŸå› ç‰¹å®šã¨å¯¾ç­–æ–¹æ³•ã‚’èª¬æ˜ã—ã¦ãã ã•ã„ã€‚</div>
                        <label for="q25">ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åˆ†æãƒ»å¯¾ç­–</label>
                        <textarea id="q25" name="q25"></textarea>
                    </div>
                </div>

                <!-- ã‚»ã‚¯ã‚·ãƒ§ãƒ³4: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ»ã‚³ãƒ¼ãƒ‰å“è³ªï¼ˆ5å•ï¼‰ -->
                <div class="section">
                    <h2>Section 4: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ»ã‚³ãƒ¼ãƒ‰å“è³ª</h2>
                    <div class="section-summary">
                        <strong>5å• - é…ç‚¹15% - æ¨å¥¨æ™‚é–“10åˆ†</strong><br>
                        ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è„†å¼±æ€§ã€ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ã€è¨­è¨ˆåŸå‰‡ã€ãƒ†ã‚¹ãƒˆè¨­è¨ˆã®å®Ÿè·µã‚¹ã‚­ãƒ«
                    </div>

                    <div class="question">
                        <h3>å•é¡Œ26: è„†å¼±æ€§åˆ†æãƒ»ä¿®æ­£ <span class="difficulty medium">Medium</span></h3>
                        <div class="problem-statement">ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã®è„†å¼±æ€§ã‚’ç‰¹å®šãƒ»ä¿®æ­£ã—ã¦ãã ã•ã„ï¼š

```javascript
app.post('/login', (req, res) => {
  const query = `SELECT * FROM users WHERE 
    username='${req.body.username}' AND 
    password='${req.body.password}'`;
  
  db.query(query, (err, result) => {
    if (result.length > 0) {
      res.json({success: true, user: result[0]});
    } else {
      res.status(401).json({error: 'Login failed'});
    }
  });
});
```</div>
                        <label for="q26">è„†å¼±æ€§åˆ†æ + ä¿®æ­£ã‚³ãƒ¼ãƒ‰</label>
                        <textarea id="q26" name="q26" class="code-editor"></textarea>
                    </div>

                    <div class="question">
                        <h3>å•é¡Œ27: èªè¨¼ãƒ»èªå¯ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆ <span class="difficulty hard">Hard</span></h3>
                        <div class="problem-statement">JWT + OAuth2.0ã‚’ä½¿ã£ãŸèªè¨¼ãƒ»èªå¯ã‚·ã‚¹ãƒ†ãƒ ã‚’è¨­è¨ˆã—ã¦ãã ã•ã„ã€‚</div>
                        <label for="q27">èªè¨¼ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆ</label>
                        <textarea id="q27" name="q27"></textarea>
                    </div>

                    <div class="question">
                        <h3>å•é¡Œ28: ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ <span class="difficulty medium">Medium</span></h3>
                        <div class="problem-statement">ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã®æ”¹å–„ç‚¹ã‚’æŒ‡æ‘˜ã—ã€ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã—ã¦ãã ã•ã„ã€‚</div>
                        <label for="q28">ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ + ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°</label>
                        <textarea id="q28" name="q28" class="code-editor"></textarea>
                    </div>

                    <div class="question">
                        <h3>å•é¡Œ29: ãƒ†ã‚¹ãƒˆè¨­è¨ˆ <span class="difficulty medium">Medium</span></h3>
                        <div class="problem-statement">APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®åŒ…æ‹¬çš„ãªãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’è¨­è¨ˆã—ã¦ãã ã•ã„ã€‚</div>
                        <label for="q29">ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹è¨­è¨ˆ</label>
                        <textarea id="q29" name="q29"></textarea>
                    </div>

                    <div class="question">
                        <h3>å•é¡Œ30: è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³é©ç”¨ <span class="difficulty hard">Hard</span></h3>
                        <div class="problem-statement">é€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ ã«Observerãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’é©ç”¨ã—ã¦å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚</div>
                        <label for="q30">è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³å®Ÿè£…</label>
                        <textarea id="q30" name="q30" class="code-editor"></textarea>
                    </div>
                </div>

                <button type="submit" class="submit-btn">è©•ä¾¡ã‚’é€ä¿¡ï¼ˆ30å•å®Œäº†ï¼‰</button>
            </form>
        </div>
    </div>

    <script>
        // ã‚¿ã‚¤ãƒãƒ¼æ©Ÿèƒ½ï¼ˆ90åˆ†ï¼‰
        let timeLeft = 90 * 60;
        const timer = document.getElementById('timer');

        function updateTimer() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            timer.textContent = `æ®‹ã‚Šæ™‚é–“: ${minutes}:${seconds.toString().padStart(2, '0')}`;
            
            // æ®‹ã‚Š10åˆ†ã§è­¦å‘Šè‰²ã«å¤‰æ›´
            if (timeLeft <= 600) {
                timer.style.background = 'rgba(231, 76, 60, 0.95)';
            }
            
            if (timeLeft <= 0) {
                alert('åˆ¶é™æ™‚é–“ãŒçµ‚äº†ã—ã¾ã—ãŸã€‚è‡ªå‹•çš„ã«é€ä¿¡ã•ã‚Œã¾ã™ã€‚');
                document.getElementById('assessmentForm').submit();
                return;
            }
            timeLeft--;
        }

        setInterval(updateTimer, 1000);

        // é€²æ—è¿½è·¡
        function updateProgress() {
            const textareas = document.querySelectorAll('textarea[id^="q"]');
            const selects = document.querySelectorAll('select[required]');
            const textInputs = document.querySelectorAll('input[type="text"][required]');
            
            let answered = 0;
            const totalQuestions = 30;
            
            // å¿…é ˆå…¥åŠ›é …ç›®ã®ãƒã‚§ãƒƒã‚¯
            [...selects, ...textInputs].forEach(input => {
                if (input.value.trim() !== '') {
                    answered += 0.1; // åŸºæœ¬æƒ…å ±ã¯è»½ãã‚«ã‚¦ãƒ³ãƒˆ
                }
            });
            
            // å•é¡Œå›ç­”ã®ãƒã‚§ãƒƒã‚¯
            textareas.forEach(textarea => {
                if (textarea.value.trim() !== '') {
                    answered++;
                }
            });
            
            const progress = Math.round((answered / totalQuestions) * 100);
            document.getElementById('progress').textContent = progress;
            document.getElementById('answered').textContent = Math.floor(answered);
            document.getElementById('progressFill').style.width = progress + '%';
        }

        // å…¥åŠ›ç›£è¦–
        document.addEventListener('input', updateProgress);
        document.addEventListener('change', updateProgress);

        // è‡ªå‹•ä¿å­˜æ©Ÿèƒ½
        let autoSaveInterval = setInterval(() => {
            const formData = new FormData(document.getElementById('assessmentForm'));
            const data = Object.fromEntries(formData.entries());
            localStorage.setItem('engineerAssessmentDraft', JSON.stringify(data));
        }, 30000); // 30ç§’ã”ã¨

        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«ä¸‹æ›¸ãå¾©å…ƒ
        window.addEventListener('load', () => {
            const draft = localStorage.getItem('engineerAssessmentDraft');
            if (draft && confirm('ä¿å­˜ã•ã‚ŒãŸä¸‹æ›¸ããŒã‚ã‚Šã¾ã™ã€‚å¾©å…ƒã—ã¾ã™ã‹ï¼Ÿ')) {
                const data = JSON.parse(draft);
                Object.entries(data).forEach(([key, value]) => {
                    const element = document.getElementById(key) || document.querySelector(`[name="${key}"]`);
                    if (element) {
                        element.value = value;
                    }
                });
                updateProgress();
            }
        });

        // ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡å‡¦ç†
        document.getElementById('assessmentForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const answeredCount = document.querySelectorAll('textarea[id^="q"]').length;
            let completedCount = 0;
            
            document.querySelectorAll('textarea[id^="q"]').forEach(textarea => {
                if (textarea.value.trim() !== '') completedCount++;
            });
            
            if (completedCount < 20) {
                if (!confirm(`å›ç­”æ¸ˆã¿: ${completedCount}/30å•\næœªå®Œäº†ã§ã‚‚é€ä¿¡ã—ã¾ã™ã‹ï¼Ÿ`)) {
                    return;
                }
            }
            
            const formData = new FormData(this);
            const data = Object.fromEntries(formData.entries());
            
            // ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿è¿½åŠ 
            data.timestamp = new Date().toISOString();
            data.timeSpent = (90 * 60 - timeLeft) + ' seconds';
            data.completionRate = (completedCount / 30 * 100).toFixed(1) + '%';
            
            // è©³ç´°è©•ä¾¡è¨ˆç®—
            const evaluation = performComprehensiveEvaluation(data);
            
            // é€ä¿¡
            submitToGoogleSheets({...data, ...evaluation});
        });

        // è©³ç´°è©•ä¾¡é–¢æ•°
        function performComprehensiveEvaluation(data) {
            const scores = {
                algorithmScore: evaluateAlgorithmSection(data),
                systemDesignScore: evaluateSystemDesignSection(data),
                databaseScore: evaluateDatabaseSection(data),
                securityScore: evaluateSecuritySection(data)
            };
            
            // é‡ã¿ä»˜ãç·åˆã‚¹ã‚³ã‚¢
            const totalScore = (
                scores.algorithmScore * 0.35 +
                scores.systemDesignScore * 0.30 +
                scores.databaseScore * 0.20 +
                scores.securityScore * 0.15
            );
            
            const level = determineLevel(totalScore, scores, data);
            
            return {
                ...scores,
                totalScore: Math.round(totalScore),
                level: level,
                strengths: identifyStrengths(scores),
                weaknesses: identifyWeaknesses(scores),
                recommendations: generateRecommendations(scores, level)
            };
        }

        function evaluateAlgorithmSection(data) {
            let score = 0;
            let count = 0;
            
            // å•é¡Œ1-10ã®è©•ä¾¡
            for (let i = 1; i <= 10; i++) {
                const answer = data[`q${i}`];
                if (answer && answer.trim()) {
                    count++;
                    score += evaluateAlgorithmAnswer(answer, i);
                }
            }
            
            return count > 0 ? score / count : 0;
        }

        function evaluateAlgorithmAnswer(answer, questionNum) {
            const lowerAnswer = answer.toLowerCase();
            let score = 0;
            
            // åŸºæœ¬å®Ÿè£…ã‚¹ã‚³ã‚¢
            if (answer.length > 50) score += 20;
            if (answer.length > 150) score += 20;
            
            // ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ç‰¹æœ‰ã®è©•ä¾¡
            const algorithmKeywords = {
                1: ['binary', 'search', 'log', 'mid'],
                2: ['dp', 'dynamic', 'table', 'min'],
                3: ['dfs', 'bfs', 'visited', 'recursive'],
                4: ['palindrome', 'expand', 'center'],
                5: ['hashmap', 'doubly', 'linked', 'o(1)']
            };
            
            const keywords = algorithmKeywords[questionNum] || [];
            const foundKeywords = keywords.filter(k => lowerAnswer.includes(k));
            score += foundKeywords.length * 10;
            
            // è¨ˆç®—é‡ã¸ã®è¨€åŠ
            if (lowerAnswer.includes('o(') || lowerAnswer.includes('time complexity')) {
                score += 20;
            }
            
            // ã‚³ãƒ¡ãƒ³ãƒˆãƒ»èª¬æ˜ã®è³ª
            if (answer.includes('//') || answer.includes('#') || lowerAnswer.includes('è§£æ³•')) {
                score += 10;
            }
            
            return Math.min(100, score);
        }

        function evaluateSystemDesignSection(data) {
            let score = 0;
            let count = 0;
            
            for (let i = 11; i <= 18; i++) {
                const answer = data[`q${i}`];
                if (answer && answer.trim()) {
                    count++;
                    score += evaluateSystemDesignAnswer(answer, i);
                }
            }
            
            return count > 0 ? score / count : 0;
        }

        function evaluateSystemDesignAnswer(answer, questionNum) {
            const lowerAnswer = answer.toLowerCase();
            let score = 0;
            
            // åŸºæœ¬æ§‹æˆè¦ç´ 
            const systemKeywords = [
                'load balancer', 'database', 'cache', 'api', 'microservice',
                'cdn', 'queue', 'redis', 'mysql', 'nosql', 'sharding'
            ];
            
            const foundKeywords = systemKeywords.filter(k => lowerAnswer.includes(k));
            score += Math.min(50, foundKeywords.length * 8);
            
            // è¨­è¨ˆã®è©³ç´°åº¦
            if (answer.length > 200) score += 20;
            if (answer.length > 500) score += 15;
            
            // ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ã¸ã®é…æ…®
            if (lowerAnswer.includes('scalability') || lowerAnswer.includes('scale')) {
                score += 15;
            }
            
            return Math.min(100, score);
        }

        function evaluateDatabaseSection(data) {
            let score = 0;
            let count = 0;
            
            for (let i = 19; i <= 25; i++) {
                const answer = data[`q${i}`];
                if (answer && answer.trim()) {
                    count++;
                    score += evaluateDatabaseAnswer(answer, i);
                }
            }
            
            return count > 0 ? score / count : 0;
        }

        function evaluateDatabaseAnswer(answer, questionNum) {
            const lowerAnswer = answer.toLowerCase();
            let score = 0;
            
            const dbKeywords = [
                'index', 'query', 'optimization', 'join', 'partition',
                'replica', 'shard', 'nosql', 'mongodb', 'redis'
            ];
            
            const foundKeywords = dbKeywords.filter(k => lowerAnswer.includes(k));
            score += foundKeywords.length * 12;
            
            if (answer.length > 100) score += 20;
            
            return Math.min(100, score);
        }

        function evaluateSecuritySection(data) {
            let score = 0;
            let count = 0;
            
            for (let i = 26; i <= 30; i++) {
                const answer = data[`q${i}`];
                if (answer && answer.trim()) {
                    count++;
                    score += evaluateSecurityAnswer(answer, i);
                }
            }
            
            return count > 0 ? score / count : 0;
        }

        function evaluateSecurityAnswer(answer, questionNum) {
            const lowerAnswer = answer.toLowerCase();
            let score = 0;
            
            const secKeywords = [
                'sql injection', 'xss', 'authentication', 'authorization',
                'jwt', 'oauth', 'hash', 'salt', 'https', 'encryption'
            ];
            
            const foundKeywords = secKeywords.filter(k => lowerAnswer.includes(k));
            score += foundKeywords.length * 15;
            
            if (answer.length > 100) score += 25;
            
            return Math.min(100, score);
        }

        function determineLevel(totalScore, scores, data) {
            let level = 1;
            
            if (totalScore >= 85) level = 5;
            else if (totalScore >= 70) level = 4;
            else if (totalScore >= 55) level = 3;
            else if (totalScore >= 40) level = 2;
            
            // çµŒé¨“å¹´æ•°ã«ã‚ˆã‚‹èª¿æ•´
            const exp = data.experience;
            if (exp === '0-1' && level > 2) level = 2;
            if (exp === '11+' && level < 3) level = Math.min(level + 1, 5);
            
            // ãƒãƒ©ãƒ³ã‚¹ãƒã‚§ãƒƒã‚¯
            const sectionScores = Object.values(scores);
            const minScore = Math.min(...sectionScores);
            if (minScore < 35 && level > 2) level--;
            
            return level;
        }

        function identifyStrengths(scores) {
            return Object.entries(scores)
                .filter(([area, score]) => score >= 75)
                .map(([area, score]) => area);
        }

        function identifyWeaknesses(scores) {
            return Object.entries(scores)
                .filter(([area, score]) => score < 50)
                .map(([area, score]) => area);
        }

        function generateRecommendations(scores, level) {
            const recommendations = [];
            
            if (scores.algorithmScore < 60) {
                recommendations.push('ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ãƒ»ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã®åŸºç¤å¼·åŒ–');
            }
            if (scores.systemDesignScore < 60) {
                recommendations.push('ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆçµŒé¨“ã®ç©ã¿é‡ã­');
            }
            if (scores.databaseScore < 60) {
                recommendations.push('ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æœ€é©åŒ–ã‚¹ã‚­ãƒ«å‘ä¸Š');
            }
            if (scores.securityScore < 60) {
                recommendations.push('ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£çŸ¥è­˜ã®ä½“ç³»çš„å­¦ç¿’');
            }
            
            if (level >= 4) {
                recommendations.push('æŠ€è¡“ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—ãƒ»ãƒ¡ãƒ³ã‚¿ãƒªãƒ³ã‚°ã‚¹ã‚­ãƒ«å‘ä¸Š');
            }
            
            return recommendations;
        }

        function submitToGoogleSheets(data) {
            const webAppUrl = 'https://script.google.com/macros/s/{YOUR_DEPLOYMENT_ID}/exec';
            
            // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤º
            const btn = document.querySelector('.submit-btn');
            btn.textContent = 'é€ä¿¡ä¸­...';
            btn.disabled = true;
            
            fetch(webAppUrl, {
                method: 'POST',
                body: JSON.stringify(data),
                headers: {'Content-Type': 'application/json'}
            })
            .then(response => response.json())
            .then(result => {
                if (result.success) {
                    // ä¸‹æ›¸ãã‚’å‰Šé™¤
                    localStorage.removeItem('engineerAssessmentDraft');
                    clearInterval(autoSaveInterval);
                    
                    alert(`ğŸ‰ è©•ä¾¡ãŒæ­£å¸¸ã«é€ä¿¡ã•ã‚Œã¾ã—ãŸï¼

ğŸ“Š çµæœã‚µãƒãƒªãƒ¼:
â€¢ ç·åˆãƒ¬ãƒ™ãƒ«: Level ${data.level}
â€¢ ç·åˆã‚¹ã‚³ã‚¢: ${data.totalScore}ç‚¹
â€¢ å®Œç­”ç‡: ${data.completionRate}
â€¢ æ‰€è¦æ™‚é–“: ${Math.round((90*60 - timeLeft)/60)}åˆ†

ğŸ“ˆ å¼·ã¿: ${data.strengths.join(', ') || 'ãƒãƒ©ãƒ³ã‚¹è‰¯å¥½'}
ğŸ“‰ æ”¹å–„ç‚¹: ${data.weaknesses.join(', ') || 'ãªã—'}

çµæœè©³ç´°ã¯1é€±é–“ä»¥å†…ã«ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§ãŠä¼ãˆã—ã¾ã™ã€‚`);
                    
                    // ãƒ•ã‚©ãƒ¼ãƒ ã‚’ç„¡åŠ¹åŒ–
                    document.getElementById('assessmentForm').style.opacity = '0.5';
                    document.querySelectorAll('input, textarea, select, button').forEach(el => {
                        el.disabled = true;
                    });
                } else {
                    throw new Error(result.error);
                }
            })
            .catch(error => {
                console.error('Error:', error);
                alert('âš ï¸ é€ä¿¡ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚\nãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šã‚’ç¢ºèªã—ã¦å†è©¦è¡Œã—ã¦ãã ã•ã„ã€‚');
                
                btn.textContent = 'è©•ä¾¡ã‚’é€ä¿¡ï¼ˆ30å•å®Œäº†ï¼‰';
                btn.disabled = false;
            });
        }

        // åˆæœŸåŒ–
        updateTimer();
        updateProgress();
    </script>
</body>
</html>
